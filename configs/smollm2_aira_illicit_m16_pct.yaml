reward:
  components:
    - name: api_reward_pairs
      role: retain
      params:
        url: http://localhost:8100/score_pairs
        scale: 1.0
    - name: openai_moderation
      role: forget
      params:
        category: illicit
        scale: 10.0

rh_detector:
  name: score_percentile
  params:
    percentile: 0.75
    min_score: 0.1
  component: openai_moderation

training:
  model: HuggingFaceTB/SmolLM2-135M
  routing_mode: exclusive
  adapter_type: mlp
  mlp_config: m16
  batch_size: 256
  num_generations: 16
  lr: 2e-4
  beta: 0.05
  max_steps: 1000
  seed: 42
  no_eos: true
  repetition_penalty: 1.1
  max_completion_length: 128
  logging_steps: 1
  eval_every: 10
